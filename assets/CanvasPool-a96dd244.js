import{D as r,n as o,__tla as h}from"./index-fdc77110.js";let c,i=Promise.all([(()=>{try{return h}catch{}})()]).then(async()=>{class l{constructor(t){this._canvasPool=Object.create(null),this.canvasOptions=t||{},this.enableFullScreen=!1}_createCanvasAndContext(t,e){const n=r.get().createCanvas();n.width=t,n.height=e;const a=n.getContext("2d");return{canvas:n,context:a}}getOptimalCanvasAndContext(t,e,n=1){t=Math.ceil(t*n-1e-6),e=Math.ceil(e*n-1e-6),t=o(t),e=o(e);const a=(t<<17)+(e<<1);this._canvasPool[a]||(this._canvasPool[a]=[]);let s=this._canvasPool[a].pop();return s||(s=this._createCanvasAndContext(t,e)),s}returnCanvasAndContext(t){const{width:e,height:n}=t.canvas,a=(e<<17)+(n<<1);this._canvasPool[a].push(t)}clear(){this._canvasPool={}}}c=new l});export{c as C,i as __tla};
